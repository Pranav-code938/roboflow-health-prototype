<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cattle Health Scoring - AI Assessment</title>
    <link rel="stylesheet" href="styles.css">
    <script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üêÑ Cattle Health Assessment</h1>
            <p>AI-Powered Body Conformation Scoring</p>
        </div>

        <div class="translate-bar">
            <label for="langSelect">üåê Language:</label>
            <select id="langSelect" class="lang-select" onchange="setLanguage(this.value)">
                <option value="en">English</option>
                <option value="hi">Hindi (‡§π‡§ø‡§®‡•ç‡§¶‡•Ä)</option>
                <option value="bn">Bengali (‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ)</option>
                <option value="te">Telugu (‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å)</option>
                <option value="mr">Marathi (‡§Æ‡§∞‡§æ‡§†‡•Ä)</option>
                <option value="ta">Tamil (‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç)</option>
                <option value="gu">Gujarati (‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä)</option>
                <option value="kn">Kannada (‡≤ï‡≤®‡≥ç‡≤®‡≤°)</option>
                <option value="ml">Malayalam (‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç)</option>
                <option value="pa">Punjabi (‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä)</option>
                <option value="ur">Urdu (ÿßÿ±ÿØŸà)</option>
                <option value="or">Odia (‡¨ì‡¨°‡¨ø‡¨Ü)</option>
                <option value="as">Assamese (‡¶Ö‡¶∏‡¶Æ‡ßÄ‡¶Ø‡¶º‡¶æ)</option>
            </select>
            <div id="google_translate_element"></div>
        </div>

        <div class="main-content">
            <!-- Upload Section -->
            <div class="upload-section" id="uploadSection">
                <h3 style="margin-bottom: 20px; text-align: center; color: #333;">
                    üì∏ Upload Cattle Photo
                </h3>
                
                <div class="upload-area" onclick="document.getElementById('imageInput').click()">
                    <div class="upload-icon">üì∑</div>
                    <div class="upload-text">Tap to select photo</div>
                    <div style="font-size: 12px; color: #666; margin: 10px 0;">
                        Best results: Side profile, good lighting, full body visible
                    </div>
                    <button class="camera-button" onclick="openCamera()" type="button">
                        üì± Use Camera
                    </button>
                </div>
                
                <input type="file" id="imageInput" class="file-input" accept="image/*" onchange="handleImageUpload(this.files[0])">
            </div>

            <!-- Preview Section -->
            <div class="preview-section" id="previewSection">
                <h3 style="margin-bottom: 15px; color: #333;">üìã Image Preview</h3>
                <div class="keypoints-overlay" id="imageContainer">
                    <img id="previewImage" class="preview-image" alt="Cattle preview">
                </div>
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="analyzeHealth()">
                        üîç Analyze Health
                    </button>
                    <button class="btn btn-secondary" onclick="resetApp()">
                        üîÑ New Photo
                    </button>
                </div>
            </div>

            <!-- Loading Section -->
            <div class="analysis-section" id="analysisSection">
                <div class="loading">
                    <div class="spinner"></div>
                    <h3>üß† AI Analysis in Progress</h3>
                    <p style="color: #666; margin-top: 10px;">
                        Detecting keypoints and calculating health metrics...
                    </p>
                </div>
            </div>

            <!-- Results Section -->
            <div class="results-container" id="resultsContainer">
                <div class="score-card">
                    <div class="score-label">Overall Health Score</div>
                    <div class="overall-score" id="overallScore">8.7</div>
                    <div class="status-badge status-excellent" id="statusBadge">Excellent Health</div>
                    <div style="font-size: 12px; color: #666; margin-top: 10px;">
                        Based on body conformation analysis
                    </div>
                </div>

                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value" id="bodyLengthMetric">2.41</div>
                        <div class="metric-label">Body Length Ratio</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="bodyLengthProgress" style="width: 85%"></div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="hipWidthMetric">156</div>
                        <div class="metric-label">Hip Width (px)</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="hipWidthProgress" style="width: 78%"></div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="toplineMetric">4.2¬∞</div>
                        <div class="metric-label">Topline Angle</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="toplineProgress" style="width: 92%"></div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="confidenceMetric">94%</div>
                        <div class="metric-label">Detection Confidence</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="confidenceProgress" style="width: 94%"></div>
                        </div>
                    </div>
                </div>

                <div class="details-section">
                    <div class="details-title">
                        üìä Detailed Analysis
                    </div>
                    <div id="detailsContent">
                        <div style="margin: 10px 0;">
                            <strong>Body Frame Assessment:</strong>
                            <span id="frameAssessment">Well-proportioned frame with good depth and length</span>
                        </div>
                        <div style="margin: 10px 0;">
                            <strong>Structural Soundness:</strong>
                            <span id="structuralAssessment">Level topline indicates good structural integrity</span>
                        </div>
                        <div style="margin: 10px 0;">
                            <strong>Key Points Detected:</strong>
                            <span id="keypointsDetected">Withers, Hip Left, Hip Right</span>
                        </div>
                    </div>
                </div>

                <div class="recommendation">
                    <strong>üí° Recommendations:</strong>
                    <div id="recommendations">
                        Animal shows excellent conformation scores. Continue current nutrition and care regimen. Monitor for any changes in posture or movement.
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="generateReport()">
                        üìÑ Generate Report
                    </button>
                    <button class="btn btn-secondary" onclick="resetApp()">
                        üîÑ Analyze Another
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
